<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Native Dialogs</title>
        <script 
            src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js"
            integrity="sha512-TU4FJi5o+epsahLtM9OFRvH2gXmmlzGlysk9wtTFgbYbMvFzh3Cw1l3ubnYIvBiZCC/aurRHS408TeEbcuOoyQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer">
        </script>
    </head>

    <body>
        <h1>Native Dialogs2</h1>
        <button id="alert">
            Alert
        </button>
        <button id="confirm">
            Confirm
        </button>
        <button id="prompt">
            Prompt
        </button>
        <button id="safer_prompt">
            Safer Prompt
        </button>
        <hr>
        <output></output>

        <script>
            const alertBtn = document.getElementById('alert');
            const confirmBtn = document.getElementById('confirm');
            const promptBtn = document.getElementById('prompt');
            const saferPromptBtn = document.getElementById('safer_prompt');
            const output = document.querySelector('output');

            alertBtn.addEventListener('click', () => {
                window.alert('Alert pressed');
            });

            confirmBtn.addEventListener('click', () => {
                const result = window.confirm('Do you confirm this?');
                output.textContent = `Confirm result: ${result}`;
            });

            promptBtn.addEventListener('click', () => {
                const result = window.prompt('What is your name?');
                if (result === null) {
                    output.textContent = `Prompt result: User didn't enter anything`;
                } else {
                    output.textContent = `Prompt result: ${result}`;
                }
            });

            saferPromptBtn.addEventListener('click', () => {
                const result = window.prompt('What is your name?');
                if (result === null) {
                    output.textContent = `Prompt result: User didn't enter anything`;
                } else {
                    let sanitizedResult = DOMPurify.sanitize(result);
                    output.textContent = `Prompt result: ${sanitizedResult}`;
                }
            });

        </script>
    </body>
</html>